\documentclass[oneside,final,14pt,a4paper]{extreport}



\usepackage[utf8]{inputenc}
%\usepackage[english, russian]{babel}
\usepackage[russianb]{babel} % адаптация русского языка
\usepackage{vmargin} % настройка размера полосы набора
\setpapersize{A4}
\setmarginsrb{2cm}{2cm}{2cm}{2cm}{0pt}{0mm}{0pt}{13mm} % {левое поле}{верхнее поле}{правое поле}{нижнее поле}{колонтитулы}{колонтитулы}{колонтитулы}{номер страницы}
\usepackage{indentfirst} % отделять первую строку раздела абзацным отступом
\usepackage{graphicx} % подключение библиотеки для работы с внешними картинками
\usepackage{setspace} % для изменения межстрочного интервала
\sloppy % выравнивание текста
%\linespread{1.3} % полуторный интервал

\setstretch{1.5} % устанавливаем межстрочный интервал

\usepackage {titlesec}
% меняем заголовок для команды \chapter и запрещаем переносы слов
\titleformat{\chapter}{\hyphenpenalty=10000\normalfont\huge\bfseries}{\thechapter\space\space}{0pt}{\Huge}


%\usepackage[OT1]{fontenc}
%\usepackage{amsmath}
%\usepackage{amsfonts}
%\usepackage{amssymb}
%\usepackage{graphicx}
%\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}
%\usepackage{cmap} % для кодировки шрифтов в pdf
% \usepackage{indentfirst} % отделять первую строку раздела абзацным отступом


\makeatletter
\renewcommand{\@biblabel}[1]{#1\space} % Заменяем библиографию с [number] на просто number:
\makeatother


\begin{document}





% ТИТУЛЬНЫЙ ЛИСТ НАЧИНАЕТСЯ
\thispagestyle{empty}
\begin{titlepage}

\begin{figure}
	\centering
	\includegraphics[width=0.5\textwidth]{logo.eps}\\
\end{figure}

\begin{spacing}{1.0} % устанавливаем межстрочный интервал
\begin{center} % центрируем текст
	{\small
		Московский государственный университет имени М.В. Ломоносова \\
		Факультет вычислительной математики и кибернетики \\
		Кафедра автоматизации систем вычислительных комплексов \\
	}
	\vspace{4cm}
	{\large Романов Андрей Романович \\}
	\vspace{1cm}
	{\large\bfseries
		Разработка системы обеспечения надежного и \\
		масштабируемого 	виртуального сетевого сервиса в \\
		облачной среде \\
	}
	\vspace{1cm}
	ВЫПУСКНАЯ КВАЛИФИКАЦИОННАЯ  РАБОТА
\end{center}
\vfill
\begin{flushright}
\begin{small}
	{\bfseries Научный руководитель: \\}
	к.ф.-м.н. \\
	В.А. Антоненко \\
\end{small}
\end{flushright}

\vfill

\centerline{Москва, 2016}
\end{spacing}
\end{titlepage}
% ТИТУЛЬНЫЙ ЛИСТ ЗАКАНЧИВАЕТСЯ
\setcounter{page}{2}





\chapter*{Аннотация}
В данной работе рассматриваются проблемы организации надежной работы и масштабируемости виртуального сетевого сервиса (Virtual Network Service, VNS). Рассмотрены существующие решения организации работы виртуальных сетевых функций (Virtual Netrowk Function, VNF).

В рамках выпускной квалификационной работы разработан программный комплекс, позволяющий в автоматическом режиме обеспечивать отказоустойчивость и масштабируемость виртуальных сетевых функций в облаке.





% Оглавление
\tableofcontents % генерация оглавления





\chapter*{Введение}
\addcontentsline{toc}{chapter}{Введение} % добавить Введение в оглавление

В современных сетях функционирует огромное количество сервисов: маршрутизация (routing), трансляция сетевых адресов (NAT), сетевой экран (firewall), туннелирование (VPN), проски-сервер и т.д.. Многие из них реализованы в одном устройстве. Для эффективной работы сервисов нагрузку распределяют сразу на несколько таких устройств. При необходимости в новой фукнции требуется купить новое оборудование, которое будет обладать прочими ненужными функциями. При высокой нагрузке, устройство не будет справляться со своими задачами, а значит придется купить еще одно. В случае недостаточной нагрузки устройства будут простаивать. Здесь возникает проблема динамической масштабируемости сервиса в зависимости от его загрузки. Известно, что при наличии нескольких схожих по функциональности устройств от разных произодителей, могут возникать конфликты в их работе. Таким образом, одним из решений является приобретение оборудование только от одного вендора. Со временем производитель отказывается поддерживать устаревшее оборудование. И в этом случае остается крайний вариант - приобретение новых устройств взамен устаревших.

Таким образом можно выделить ключевые проблемы организации работы сетевого сервиса:
\begin{itemize}
	\item приобретение оборудования с избыточной функциональностью;
	\item требуется рассчитывать производительность сервиса исходя из максимальной возможной нагрузки;
	\item простаивание оборудования в случае, если нагрузка не является пиковой;
	\item зависимость от производителя оборудования (тех. обслуживание, устаревание оборудования, невозможность модифицировать сервис без вмешательства производителя);
\end{itemize}

Концепция виртульных сетевых функций (Network Function Virtualization, NFV) --- это молодая технология, позволяющая виртуализировать некоторые программные сервисы, которые на данный момент реализованы лишь на физических устройствах. NFV обладает такими качествами, как:
\begin{itemize}
	\item масштабируемость - в зависимости от загруженности сервиса будет работать тот объем инфраструктуры, который необходим для надежной работы;
	\item надежность - в случае сбоев в работе сервиса будут предприниматься действия по восстановлению его работы в автоматическом режиме;
	\item гибкость - виртуализация позволяет быстро развертывать сервисы на новой инфраструктуре;
	\item безопасность - данные клиентов защищены, так как программные сервисы работают изолированно друг от друга.
\end{itemize}

Организация ETSI разработала высокоуровневую архитектуру ETSI NFV Management and Orchestration (ETSI NFV MANO). Главной особенностью архитектуры является оптимальное использование инфраструктуры: она выделяется для каждой функции по запросу в необходимом количестве. Базовыми блоками, из которых строятся виртуальные сетевые сервисы, являются виртуальные сетевые функции (VNF). Платформа на базе ETSI NFV MANO умеет размещать VNF на подконтрольной инфраструктуре. В результате комбинирования блоков VNF получаются виртуальные сетевые сервисы (VNS), которыми и пользуются клиенты платформы.





\chapter{Концепция NFV}
\section{Общее описание}
В 2004 году была предложена идея организации сетевой инфраструктуры с целью снижения затрат и ускорения внедрения новых услуг. Она состояла в объединении ядра сети и сети доступа в единую платформу. Однако без виртуализации идея не получила широкого распространения.\cite{nfv-state2}.

NFV предполагает использование виртуализированной инфраструктуры для функционирования услуг. Концепция предлагает использование технологий для виртуализации функций в виде составных элементов, которые могут быть связаны для создание телекоммуникационных сервисов. 

Таким образом, виртуальная сетевая функция (VNF) --- это описание требуемой инфраструктуры, требуемого программного обеспечения, параметров подключения пользователей к это услуге и т.д.. Заметим, что программное обеспечение, описанное в VNF должно иметь ограниченную и законченную функциональность. Не следует виртуализировать сложное программное обеспечение, так как оно будет использовать дополнительные ресурсы инраструктуры.

Виртуальный сетевой сервис (VNS) - это некоторое множество связанных между собой виртуальных сетевых функций. Это конечная услуга, которая будет предоставляться клиентам. Концепция предполагает внутреннее представление VNS как произвольное непустое множество, состоящее из VNF. При этом VNF как-то связаны друг с другом.

По мнению автора, наиболее интересен случай цепочек виртуальных сетевых функций (VNF chaining). В этом случае можно считать каждую VNS как цепочку сетевых функций. Близкую аналогию можно провести с математическим понятием функции. Пусть 'x' - это входящий трафик некоторого объема. Тогда результатом работы сервиса S, состоящего из последовательной цепочки функций f1, f2, f3 будет трафик y, такой что:

% TODO сделать формулой
y = f3(f2(f1(x))) = S(x)

В результате трафик 'x' трансформировался в трафик 'y'. S - это суперпозиция функций f1, f2, f3.

\section{Архитектура ETSI NFV MANO}
Европейский Институт Телекоммуникационных Стандартов (ETSI) в 2013 году опубликовал высокоуровневые рекомендации по разработке платформы, управляющий виртуальными сетевыми сервисами Network Function Virtualization Management and Orchestration (NFV MANO). Основные цели документы - стандартизировать интерфейсы каждого модуля в платформе.\cite{nfv-mano-state1} Как показано на Рис.~\ref{nfv-mano-image1}, в NFV MANO имеется 3 основных модуля:

\begin{enumerate}
	\item менеджер виртуальной инфраструктуры (Virtualized Infrastructure Manager, VIM)
	\item менеджер виртуальных сетевых функций (Virtual Network Function Manager, VNFM)
	\item оркестратор виртуальных сетевых сервисов (Network Function Virtualization, NFVO)
\end{enumerate}

\begin{figure}[h]
\center{\includegraphics[width=0.95\textwidth]{nfv-mano}}
\caption{Архитектура NFV Management and Orchestration}
\label{nfv-mano-image1}
\end{figure}

Каждый модуль обеспечивает свой слой виртуализации. VIM занимается виртуализацией физических ресурсов. Менеджер функций предоставляет набор функций, размещенных на виртуальных ресурсах. Оркестратор управляет сетевыми сервисами, построенными на базе виртуальных сетевых функций.

\subsection{Менеджер виртуальной инфраструктуры}
Менеджер инфраструктуры обеспечивает виртуализацию физической инрафструктуры в рамках одного домена. NFV MANO предполагает использование нескольких менеджеров инфраструктуры в одном домене. В задачи модуля входит:
\begin{itemize}
	\item управление полным жизненным циклом виртуальных ресурсов в рамках одного домена
	\begin{itemize}
		\item управление вычислительными ресурсами (computing resource) и хранилищами (storage);
		\item управление сетевыми ресурсами (networking resource), то есть управление коммутаторами, роутерами, сетевая настройка;
		\item остальные задачи гипервизора (асбтракция физической инфраструктуры, эффективное отображение ресурсов на их виртуальные аналоги и т.д.) 
	\end{itemize}
	\item мониторинг за состоянием виртуальных ресурсов, обнаружение отказов оборудования, виртуальных машин, програмного обеспечения;
	\item предоставление интерфейса для использования виртуальной инфраструктуры и для мониторинга физической инфраструктуры.
\end{itemize}

\subsection{менеджер виртуальных сетевых функций}


\section{Open Platform for NFV}
Open Platform for NFV (OPNFV) - это платформа с открытым исходным кодом, на базе которой можно создавать компоненты  идеологии NFV. Проект OPNFV, используя архитектуру ETSI NFV MANO, фокусируется на NFV Infrastructure (NFVI) и Virtualized Infrastructure Manager (VIM).\cite{opnfv-official}
Основные цели проекта:
Разработка интегрированной и протестированной открытой платформы, которая сможет быть использована для построения NFV, ускорения внедрения новых продуктов и сервисов;
Привлечение заинтересованных лиц со стороны конечных заказчиков для удовлетворения требований пользовательского сообщества;
Участие в смежных открытых проектах, которые могут быть использованы в OPNFV, обеспечить целостность, производительность и функциональную совместимость компонентов. В данный момент, OPNFV активно взаимодействует с OpenStack, KVM, Open vSwitch, OpenDyalight, ONOS, Open Contrail, ETSI, IETF.
Создать экосистему NFV решений, основанную на открытых стандартах и программном обеспечении, удовлетворяющую требованиям конечных пользователей;
Продвигать OPNFV как предпочтительную платформу и сообщество для создания NFV решений с открытым кодом.
На данный момент в сообществе состоят более 60 компаний, начиная с производителей оборудования и заканчивая поставщиками SDN и NFV решений.
Первый релиз (Arno) состоялся в июня 2015 году и какой-либо функциональности в себе не нес. Вторая версия проекта OPNFV (Brahmaputra) вышла 1 марта 2016 года. По словам сообщества, теперь платформа готова для проведения лабораторных тестов.\cite{opnfv-state1} Однако обнаружить исходный код продукта так и не удалось.


% привет всем!   \textbackslash привет всем! привет всем! привет всем! привет всем! привет всем! привет всем! привет всем! привет всем! привет всем! привет всем! привет 




\begin{table}
	\caption{Обзор существующих решений}
\end{table}

\begin{figure}[p]
	\caption{Высокоуровневая архитектура ETSI NFV MANO}
\end{figure}





% Список литературы
\begin{thebibliography}{00}
\bibitem{nfv-mano-state1} ETSI NFV Management and Orchestration (MANO) простым языком. URL: https://sdnblog.ru/etsi-nfv-mano-beginners-tutorial/ (дата обращения 01.04.2016)
\bibitem{nfv-official} Network Functions Virtualisation (NFV); use cases. URL: http://www.etsi.org/technologies-clusters/technologies/nfv (дата обращения 01.04.2016)
\bibitem{nfv-state2} NFV для корпоративных сервисов - № 12, 2014. URL: http://www.osp.ru/lan/2014/12/13044225 (дата обращения 01.04.2016)
\bibitem{nfv-state1} NFV виртуализация сетевых функций. URL: http://sci-article.ru/stat.php?i=1455156066 (дата обращения 01.04.2016)
\bibitem{opnfv-official} Open Platform for NFV (OPNFV). URL: https://www.opnfv.org (дата обращения 01.04.2016)
\bibitem{opnfv-state1} Чем занимается сообщество OPNFV? URL:  https://sdnblog.ru/who-is-opnfv/ (01.04.2016)
\bibitem{tacker-official} Tacker. URL: https://wiki.opfirewallenstack.org/wiki/Tacker (01.04.2016)
\end{thebibliography}

% Конец документа
\end{document}


